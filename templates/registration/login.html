{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesi√≥n - Adrivo R.</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- ESTILO BASE --- */
        body {
            margin: 0; font-family: 'Poppins', sans-serif;
            background-color: #fff0f5;
            background-image: radial-gradient(#ffcce0 2px, transparent 2px);
            background-size: 25px 25px;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; overflow: hidden;
        }

        /* --- CAJA CENTRAL --- */
        .login-box {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(5px);
            padding: 40px 35px;
            border-radius: 35px;
            box-shadow: 0 15px 35px rgba(232, 62, 140, 0.2);
            border: 3px solid #fff0f6;
            width: 100%; max-width: 400px;
            text-align: center; position: relative; z-index: 10;
        }

        /* --- BOT√ìN VOLVER --- */
        .btn-back {
            position: absolute;
            top: 25px;
            left: 25px;
            color: #ff4b9a;
            font-size: 1.1rem;
            text-decoration: none;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 700;
            z-index: 20;
        }
        .btn-back span { font-size: 0.8rem; font-family: 'Poppins'; }
        .btn-back:hover { transform: translateX(-5px); color: #ba68c8; }

        /* --- LOGO --- */
        .logo-img {
            width: 110px; height: 110px;
            border-radius: 50%;
            border: 4px solid #ff4b9a;
            padding: 3px;
            box-shadow: 0 5px 15px rgba(255, 75, 154, 0.3);
        }

        .brand-title {
            font-family: 'Pacifico', cursive; font-size: 2rem; color: #ff4b9a;
            margin: 15px 0 10px; text-shadow: 2px 2px 0px #ffeebb;
        }
        .brand-subtitle { color: #666; font-weight: 500; margin-bottom: 25px; font-size: 0.9rem;}

        /* --- ERROR COMPACTO --- */
        .error-compact {
            background-color: #ffebee; color: #d32f2f; border: 1px solid #ffcdd2;
            border-radius: 50px; padding: 8px 15px; font-size: 0.85rem; font-weight: 600;
            margin-bottom: 15px; display: inline-flex; align-items: center; gap: 8px;
            animation: shake 0.4s ease-in-out;
        }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* --- INPUTS --- */
        .input-group { margin-bottom: 15px; text-align: left; }
        .input-group label { display: block; font-weight: 700; color: #ba68c8; margin-bottom: 5px; font-size: 0.85rem; }
        .adrivo-input {
            width: 100%; padding: 12px 20px; border-radius: 50px;
            border: 2px solid #ffcce0; background: #fffbfd;
            outline: none; transition: 0.3s; color: #555;
            font-family: inherit; font-weight: 500; font-size: 0.95rem; box-sizing: border-box;
        }
        .adrivo-input:focus { border-color: #ff4b9a; background: white; box-shadow: 0 0 0 4px rgba(255, 75, 154, 0.1); }

        /* --- BOT√ìN --- */
        .btn-submit {
            width: 100%; background: linear-gradient(45deg, #ff4b9a, #ba68c8);
            color: white; border: none; padding: 12px; border-radius: 50px;
            font-size: 1rem; font-weight: 800; cursor: pointer; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(232, 62, 140, 0.3); margin-top: 5px;
        }
        .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(232, 62, 140, 0.4); }

        .bottom-links { margin-top: 20px; font-size: 0.85rem; color: #888; }
        .bottom-links a { color: #ff4b9a; text-decoration: none; font-weight: 700; }
        .bottom-links a:hover { text-decoration: underline; }

        /* --- ENLACE RECUPERAR --- */
        .forgot-link {
            display: block; text-align: right; margin-bottom: 15px;
            font-size: 0.8rem; color: #ba68c8; font-weight: 600; text-decoration: none;
            transition: 0.3s;
        }
        .forgot-link:hover { color: #ff4b9a; text-decoration: underline; }

        /* --- ANIMACI√ìN --- */
        .floating-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
        .emoji { position: absolute; bottom: -10vh; font-size: 2rem; opacity: 0.6; animation: floatUp linear infinite; }
        @keyframes floatUp { 0% { transform: translateY(0) rotate(0deg); opacity: 0; } 10% { opacity: 0.6; } 100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; } }
        
        .emoji:nth-child(1) { left: 5%; animation-duration: 15s; animation-delay: -2s; font-size: 2.5rem; }
        .emoji:nth-child(2) { left: 15%; animation-duration: 18s; animation-delay: -5s; }
        .emoji:nth-child(3) { left: 25%; animation-duration: 12s; animation-delay: -8s; font-size: 2rem; }
        .emoji:nth-child(4) { left: 35%; animation-duration: 20s; animation-delay: -1s; }
        .emoji:nth-child(5) { left: 45%; animation-duration: 14s; animation-delay: -6s; font-size: 1.5rem; }
        .emoji:nth-child(6) { left: 55%; animation-duration: 16s; animation-delay: -3s; }
        .emoji:nth-child(7) { left: 65%; animation-duration: 19s; animation-delay: -7s; font-size: 2.2rem; }
        .emoji:nth-child(8) { left: 75%; animation-duration: 13s; animation-delay: -4s; }
        .emoji:nth-child(9) { left: 85%; animation-duration: 17s; animation-delay: -9s; font-size: 1.8rem; }
        .emoji:nth-child(10) { left: 95%; animation-duration: 22s; animation-delay: -2s; }
    </style>
</head>
<body>

    <div class="floating-container">
        <span class="emoji">üíÑ</span> <span class="emoji">üíã</span> <span class="emoji">‚ú®</span>
        <span class="emoji">üíÖ</span> <span class="emoji">üå∏</span> <span class="emoji">üíñ</span>
        <span class="emoji">üß¥</span> <span class="emoji">üßº</span> <span class="emoji">üéÄ</span>
        <span class="emoji">üõçÔ∏è</span>
    </div>

    <div class="login-box">
        <a href="{% url 'home' %}" class="btn-back" title="Volver a la Tienda">
            <i class="fas fa-arrow-left"></i> <span>Volver</span>
        </a>

        <div style="margin-bottom: 10px;">
            <img src="{% static 'logo_adrivo.jpg' %}" alt="Adrivo" class="logo-img">
        </div>
        <h1 class="brand-title">¬°Hola de nuevo!</h1>
        <p class="brand-subtitle">Bienvenida a Variedades Adrivo R. ‚úø</p>

        {% if form.errors %}
            <div class="error-compact">
                <i class="fas fa-times-circle"></i> Usuario o contrase√±a incorrectos
            </div>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            
            <div class="input-group">
                <label for="{{ form.username.id_for_label }}"><i class="fas fa-user"></i> Usuario</label>
                <input type="text" name="{{ form.username.name }}" class="adrivo-input" placeholder=" " required>
            </div>

            <div class="input-group">
                <label for="{{ form.password.id_for_label }}"><i class="fas fa-lock"></i> Contrase√±a</label>
                <input type="password" name="{{ form.password.name }}" class="adrivo-input" placeholder=" " required>
            </div>

            <a href="{% url 'password_reset' %}" class="forgot-link">¬øOlvidaste tu contrase√±a?</a>

            <button type="submit" class="btn-submit">INICIAR SESI√ìN <i class="fas fa-arrow-right"></i></button>
        </form>

        <div class="bottom-links">
            <p>¬øNo tienes cuenta? <a href="{% url 'registro' %}">Reg√≠strate aqu√≠</a></p>
        </div>
    </div>

</body>
</html>